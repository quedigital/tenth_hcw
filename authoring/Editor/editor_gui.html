<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Editor GUI</title>

	<link href="css/main.css" rel="stylesheet"/>

	<link href="css/col.css" rel="stylesheet"/>
	<link href="css/3cols.css" rel="stylesheet"/>
	<link href="css/4cols.css" rel="stylesheet"/>
	<link href="css/5cols.css" rel="stylesheet"/>
	
	<link href="css/jquery-ui.css" rel="stylesheet"/>

	<link href="css/font-awesome.min.css" rel="stylesheet"/>

	<script src="js/jquery-1.11.0.min.js"></script>
	<script src="js/jquery-ui-1.10.4.min.js"></script>
	<script src="js/jquery.layout-latest.min.js"></script>
	
	<script src="js/jquery.autosize.min.js"></script>

	<script src="https://cdn.firebase.com/js/client/1.0.15/firebase.js"></script>
	
	<script src="js/knockout-3.1.0.js"></script>
	
	<script src="js/knockoutfire.js"></script>
		
	<script data-main="editor" src="js/require.js"></script>
</head>

<body>
	<div id="toc" class="ui-layout-west">
		<div id="spreadModel">
			<table>
				<tbody data-bind="foreach: spreads">
					<tr data-bind="click: function () { $parent.showSpread($index()) }">
						<td class="id" data-bind="text: id"></td>
						<td class="title" data-bind="text: title"></td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	<div id="content" class="ui-layout-center">
		<div class="ui-layout-north">
			<button id="glossary-button"><span class="fa fa-book fa-2x"></span></button>
		</div>
		<div class="ui-layout-center">
			<div id="contentModel">
				<div data-bind="with: content">
					<section class="spread-header">
						<header>
							<div>ID</div>
							<div>Title</div>
						</header>
						<div class="row">
							<div>
								<input data-bind="value: id"></input>
							</div>
							<div>
								<textarea data-bind="autosize: title"></textarea>
							</div>
						</div>
					</section>
			
					<div id="cells">
						<div data-bind="foreach: cells">
							<div id="cell" class="spaced">
								<div class="header section group">
									<div class="control">
										<div>
											<label>Cell Type</label>
										</div>
										<div>
											<select data-bind="options: ['step','image', 'callout'], value: type"></select>
										</div>
									</div>
									<div class="control">
										<div>
											<label for="inputNumber">Number</label>
										</div>
										<div>
											<input id="inputNumber" data-bind="value: number" type="number">
										</div>
									</div>
									<div class="control">
										<div>
											<label for="inputID">ID</label>
										</div>
										<div>
											<input id="inputID" data-bind="value: id" type="text">
										</div>
									</div>
								</div>
								<div class="step-text" data-bind="if: type() === 'step'">
									<div class="editable-text" contenteditable="true" data-bind="editableText: text"></div>
								</div>
								<div class="callout-text" data-bind="if: type() === 'callout'">
									<label for="inputTitle">Title</label>
									<input id="inputTitle" data-bind="value: title" type="text">
									<div class="editable-text" contenteditable="true" data-bind="text: text"></div>
								</div>
								<div class="section group">
									<div class="col span_2_of_4">
										<label for="inputID">Image</label>
										<input data-bind="value: image" type="text"></input>
									</div>
									<div class="col span_2_of_4">
										<div class="thumbnail" data-bind="visible: image">
											<img data-bind="attr: { src: image }"/>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				</div>
		</div>
	</div>
	
	<div id="layout" class="ui-layout-east">
		<div id="layoutModel">
			<div data-bind="with: layout">
				<label for="inputSpreadStyle">Layout Style</label>
				<select data-bind="options: ['grid', 'fixed'], value: style, valueAllowUnset: true"></select>
				
				<div data-bind="if: style()==='grid'">
					<div class="grid" data-bind="gridThing: hints">
						<div data-bind="foreach: hints">
							<div class="cell" data-bind="attr: { 'data-width': width, 'data-id': id, 'data-image': image }, cellThing: width">
							</div>
						</div>
					</div>
				</div>
				
				<div data-bind="if: style()==='fixed'">
					<label for="inputID">Background Image</label>
					<input data-bind="value: background" type="text"></input>
					<div class="fixer" data-bind="fixedThing: hints">
						<div data-bind="foreach: hints">
							<div class="bounds" data-bind="boundsThing: bounds">
								<span class="cell-id" data-bind="text: id"></span>
								<div class="styling" data-bind="if: styling">
									<textarea data-bind="autosize: styling"></textarea>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div id="cell-property-table">
					<h4>Cell Properties:</h4>
					<table class="properties" data-bind="foreach: hints">
						<tbody data-bind="attr: { 'data-id': id }">
							<tr>
								<td>id</td>
								<td><span data-bind="text: id"></span></td>
							</tr>
							<tr data-bind="if: $parent.style()==='fixed'">
								<td>anchor</td>
								<td><select data-bind="options: ['LT','right bottom','right','left','RT','R','RB','LB','L','BL'], value: anchor"></select></td>
							</tr>
							<tr data-bind="if: $root.getCellType(id())==='callout'">
								<td>theme</td>
								<td><select data-bind="options: ['factoid','tidbit','did-you-know'], value: theme"></select></td>
							</tr>
						</tbody>
					</table>
				</div>
								
			</div>
		</div>
	</div>
</body>

</html>